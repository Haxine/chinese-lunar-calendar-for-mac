<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <!-- <link href='https://fonts.useso.com/css?family=Chivo:900' rel='stylesheet' type='text/css'> -->
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Mac下的万年历状态栏小工具</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Mac下的万年历状态栏小工具</h1>
          <h2>Chinese Lunar Calendar for Mac in MenuBar</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/zfdang/chinese-lunar-calendar-for-mac/" id="view-on-github" class="button"><span>源代码@Github</span></a>
          <a href="WanNianLi.app.zip" id="download-app" class="button"><span>下载程序(官方API版本)</span></a>
          <a href="WanNianLi.app-old.zip" id="download-app" class="button"><span>下载程序(OS<=10.10.4)</span></a>
        </section>
<h4>注意: 升级到OSX 10.11的同学，请使用官方API的版本。使用NSMenuExtra版本的将无法在10.11上打开。具体区别请看下面的说明:</h4>

<p>There are in fact two types of such menu bar items, one known as NSMenuExtra's and another known as NSStatusItem's. The former are loaded and displayed by SystemUIServer, a process provided by the system. The latter can be displayed by any app written by any developer. One good thing about the former is that you can rearrange them by ⌘-dragging the menu items.</p>
<p>Anyway, due to this better behavior of NSMenuExtra's, people often wanted to write their own. In fact until and including OS X 10.1, Apple allowed it. But since 10.2, Apple had a code that blocked SystemUIServer to load non-system-provided NSMenuExtra's. But until Yosemite, there was a known way to work around it, available as an open-source code as MenuCracker. WanNianLi used this to inject their own NSMenuExtra's to SystemUIServer.</p>

<p>Essentially, until Yosemite, SystemUIServer had a fixed list of allowed NSMenuExtras. MenuCracker was an NSMenuExtra that pretended to be one of those allowed ones, which, once loaded inside SystemUIServer, removed these checks, so that more NSMenuExtras can be loaded without any problem. In OSX 10.11 El Capitan, Apple added a more stringent check of the allowed NSMenuExtra's, and MenuCracker no longer works.</p>
<br>
        <section id="main_content">

<h3>1.界面</h3>
<br>
<img src="calendar_v2.jpg" style="width:450px" alt="">
<br>
<br>
<h4>更新历史:<A href="https://github.com/zfdang/chinese-lunar-calendar-for-mac/blob/master/BUILD.md">BUILD.md</A></h4>
<br>


<h3>2.功能</h3>
<ui>
  <li>从状态栏快速弹出含农历及节日的万年历</li>
  <li>可以按(前/后)(年/月)的方式改变日期，也可以直接选择年月</li>
  <li>支持键盘控制日历: ←上一年, →下一年，↑上一月，↓下一月，↵回今日</li>
  <li>点击选择某一天，长按显示更详细的信息</li>
  <li>支持国内的假期调整：周末上班或者工作日放假; 支持在线更新假期调整方案，一般在年末的时候需要更新一次</li>
  <li>支持增加属于个人的农历、公历节日（vim ~/Library/Application\ Support/com.zfdang.calendar/festivals.js)。节日每年会重复。</li>
  <li>支持增加指定日子的事件（vim ~/Library/Application\ Support/com.zfdang.calendar/events.js SPECIFIC_EVENTS)。事件是一次性的，不会按年重复。</li>
  <li>可设置开机自启动</li>
  <li>兼容OS X 10.8, 10.9, 10.10, 10.11</li>
  <li>开源</li>
</ui>
<br> 
<h4>遇到“无法打开”的错误: 请参看<A href="http://sspai.com/27638">Mac基础教程-如何打开身份不明开发者的应用程序</A></h4>
<br>

<h3>3.视频介绍@Youku</h3>
<br>
<iframe height=498 width=510 src="http://player.youku.com/embed/XODIxNDQyNjYw" frameborder=0 allowfullscreen></iframe>
<br>
<br>

<h3>4.建议使用方法</h3>
<ol>
  <li>调整Mac的时钟设置，在状态栏中隐藏日期信息，保留时间和星期</li>
<img src="setting.jpg" style="width:450px" alt="">
  <li>将本程序的图标拖至Mac时钟的左侧</li>
</ol>
<br>


<h3>5.声明</h3>
<ul>
  <li>#include &lt;disclaimer.h&gt;</li>
  <li>如商用，须征得本人同意</li>
</ul>

        </section>

        <footer>
          Chinese-lunar-calendar-for-mac is maintained by <a href="https://github.com/zfdang">zfdang</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

      </div>
    </div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-6920954-7', 'auto');
  ga('send', 'pageview');

</script>  
</body>
</html>
